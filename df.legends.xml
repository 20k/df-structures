<data-definition>
    <struct-type type-name='invasion_info'
                 instance-vector='$global.ui.invasions.list' key-field='id'>
        <int32_t name='id'/>
        <int32_t name='civ_id' ref-target='historical_entity'/>
        <int32_t name='active_size1' comment='0 unless active'/>
        <int32_t name='active_size2'/>
        <int32_t name='size'/>
        <int32_t name='duration_counter'/>
        <bitfield base-type='uint16_t' name='flags'>
            <flag-bit name='active'/>
            <flag-bit name='siege'/>
            <flag-bit/>
            <flag-bit/>
            <flag-bit/>
            <flag-bit name='parley'/>
        </bitfield>
        <int16_t name='unk4b'/>
        <int32_t since='v0.44.01'/>
        <int32_t since='v0.44.01'/>
        <int32_t since='v0.44.01'/>
        <int32_t since='v0.44.01'/>
        <int32_t since='v0.44.01'/>
    </struct-type>

    <struct-type type-name='entity_population_unk4'>
        <stl-vector>
            <pointer>
                <int32_t name='idx'/>
                <int32_t name='unk1'/>
                <int32_t name='unk2'/>
            </pointer>
        </stl-vector>
        <stl-vector>
            <pointer>
                <int32_t name='idx'/>
                <int32_t name='unk1'/>
                <int32_t name='unk2'/>
            </pointer>
        </stl-vector>
        <stl-vector>
            <pointer>
                <int32_t name='idx'/>
                <int32_t name='unk1'/>
            </pointer>
        </stl-vector>
    </struct-type>

    <struct-type type-name='entity_population' key-field='id' instance-vector='$global.world.entity_populations'>
        <compound name='name' type-name='language_name'/>

        <code-helper name='describe'>
            (describe-obj $.name)
        </code-helper>

        <stl-vector name='races'>
            <int16_t ref-target='creature_raw'/>
        </stl-vector>
        <stl-vector name='counts' type-name='int32_t'/>
        <stl-vector name='unk3' type-name='int32_t'/>
        <stl-vector name='unk4'>
            <pointer type-name='entity_population_unk4'/>
        </stl-vector>
        <int32_t name='unk5'/>
        <int32_t name='unk6'/>
        <int32_t name='id'/>
        <int32_t name='flags' comment='?; unk6 == -1'/>
        <int32_t name='civ_id' ref-target='historical_entity'/>
    </struct-type>

    <enum-type type-name='nemesis_flags'>
        <enum-item name='ACTIVE_ADVENTURER' comment='used when loading save'/>
        <enum-item name='RETIRED_ADVENTURER' comment='allows resuming play'/>
        <enum-item name='ADVENTURER' comment='blue color in legends'/>
    </enum-type>

    <struct-type type-name='nemesis_record' key-field='id' instance-vector='$global.world.nemesis.all'>
        <int32_t name='id' comment='sequential index in the array'/>

        <int32_t name='unit_id' ref-target='unit'/>

        <int32_t name='save_file_id' ref-target='unit_chunk' comment='unit-*.dat'/>
        <int16_t name='member_idx' comment='index in the file'/>

        <pointer name='figure' type-name='historical_figure'/>
        <pointer name='unit' type-name='unit'/>

        <code-helper name='describe'>
            (describe-obj $.figure)
        </code-helper>

        <int32_t name='group_leader_id' ref-target='nemesis_record'/>
        <stl-vector name='companions'>
            <int32_t ref-target='nemesis_record'/>
        </stl-vector>

        <int16_t name='unk10' init-value='-1'/>
        <int32_t name='unk11' init-value='-1'/>
        <int32_t name='unk12' init-value='-1'/>
        <int32_t name='unk_v47_1'/>
        <int32_t name='unk_v47_2'/>
        <df-flagarray name='flags' index-enum='nemesis_flags'/>
    </struct-type>

    <struct-type type-name='nemesis_unk_v47_01' instance-vector='$global.world.nemesis.unk_v47_01'>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int16_t/>
        <pointer/>
        <pointer/>
        <int32_t init-value='-1'/>
        <stl-vector/>
        <int16_t init-value='-1'/>
        <int32_t init-value='-1'/>
        <int32_t init-value='-1'/>
        <int32_t init-value='-1'/>
        <int32_t init-value='-1'/>
        <pointer type-name='int32_t'/>
        <int32_t/>
    </struct-type>

    <struct-type type-name='nemesis_unk_v47_12' instance-vector='$global.world.nemesis.unk_v47_12'>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int16_t/>
        <pointer type-name='nemesis_unk_v47_12a'/>
        <pointer/> only seen null so far
        <int32_t init-value='-1'/>
        <pointer/> only seen null so far
        <pointer/> only seen null so far
        <pointer/> only seen null so far
        <int16_t init-value='-1'/>
        <int32_t init-value='-1'/>
        <int32_t init-value='-1'/>
        <int32_t init-value='-1'/>
        <int32_t init-value='-1'/>
        <pointer type-name='int32_t'/>
        <int32_t/>
    </struct-type>

    <struct-type type-name='nemesis_unk_v47_12a'>
        <int32_t name='v47_12a_01'/>
        <bool name='v47_12a_02'/>
        <bool name='v47_12a_03'/>
        <bool name='v47_12a_04'/>
        <int32_t name='v47_12a_05'/>
        <int32_t name='v47_12a_06'/>
        <int32_t name='v47_12a_07'/>
        <int32_t name='v47_12a_08'/>
        <int32_t name='v47_12a_09' init-value='-1'/>
        <int32_t name='v47_12a_10' init-value='-1'/>
        <int32_t name='v47_12a_11'/>
        <int32_t name='v47_12a_12'/>
        <int32_t name='v47_12a_13'/>
        <int32_t name='v47_12a_14'/>
        <int32_t name='v47_12a_15' init-value='-1'/>
        <int32_t name='v47_12a_16' init-value='-1'/>
        <compound name='v47_12a_17' type-name='language_name'/>
        <int32_t name='v47_12a_18'/>
        <int32_t name='v47_12a_19'/>
        <int32_t name='v47_12a_20' init-value='-1'/>
        <int32_t name='v47_12a_21' init-value='-1'/>
        <int32_t name='v47_12a_22'/>
        <df-flagarray name='v47_12a_23'/>
        <int32_t name='v47_12a_24'/>
        <int32_t name='v47_12a_25'/>
        <int32_t name='v47_12a_26'/>
        <int32_t name='v47_12a_27'/>
        <stl-vector name='v47_12a_28' pointer-type='nemesis_unk_v47_12a_28'/>
        <stl-vector name='v47_12a_29'/> only seen null so far
        <stl-vector name='v47_12a_30' pointer-type='nemesis_unk_v47_12a_28'/>
        <pointer name='v47_12a_31' type-name='nemesis_unk_v47_12a_31'/>
        <pointer name='v47_12a_32' type-name='nemesis_unk_v47_12a_32'/>
        <int32_t name='v47_12a_33'/>
        <int32_t name='v47_12a_34'/>
        <stl-vector name='v47_12a_35'/>
        <pointer name='v47_12a_36'/>
        <pointer name='v47_12a_37' type-name='nemesis_unk_v47_12a_37'/>
        <int32_t name='v47_12a_38' init-value='-1'/>
        <int32_t name='v47_12a_39' init-value='-1'/>
    </struct-type>

    <struct-type type-name='nemesis_unk_v47_12a_28'>
        <long comment='could also be a pointer to statically-allocated data'/>
        <int32_t/>
        <int16_t/>
    </struct-type>

    <struct-type type-name='nemesis_unk_v47_12a_31'>
        <pointer/>
        <pointer/>
        <pointer/>
        <pointer/>
        <pointer/>
        <pointer>
            <int16_t/>
            <int32_t/>
            <int32_t init-value='-1'/>
            <int32_t init-value='-1'/>
            <int32_t init-value='-1'/>
            <int32_t init-value='-1'/>
            <int32_t init-value='-1'/>
            <int32_t/>
            <int32_t/>
            <int32_t/> or 4 bools
            <bool/>
            <int32_t init-value='-1'/>
            <int32_t init-value='-1'/>
            <int32_t/>
            <int32_t/>
        </pointer>
        <pointer/>
        <pointer>
            <stl-vector/>
            <pointer/>
            <int32_t/>
            <pointer/>
            <int32_t/>
            <pointer/>
            <int32_t init-value='-1'/>
            <int32_t init-value='-1'/>
            <int32_t/>
        </pointer>
        <pointer/>
        <pointer/>
        <pointer/>
        <pointer>
            <stl-vector/> only seen null so far
            <stl-vector/> only seen null so far
            <int32_t init-value='-1'/>
            <stl-vector/> only seen null so far
            <int32_t/>
            <pointer>
                <int32_t/>
                <int32_t/>
                <int32_t/>
                <int32_t init-value='-1'/>
                <int32_t/>
                <int32_t/>
                <int32_t init-value='-1'/>
                <int32_t init-value='-1'/>
                <int32_t init-value='-1'/>
                <int32_t init-value='-1'/>
                <int32_t/>
                <stl-vector>
                    <pointer>
                        <int32_t/>
                        <int32_t init-value='-1'/>
                        <int32_t/>
                        <int32_t/>
                        <int32_t/>
                        <int32_t/>
                    </pointer>
                </stl-vector>
                <stl-vector/> only seen null so far
            </pointer>
        </pointer>
        <pointer/>
    </struct-type>

    <struct-type type-name='nemesis_unk_v47_12a_32'>
        <static-array type-name='int32_t' count='6'/>
        <static-array type-name='int16_t' count='6'/>
        <int32_t comment='seen set to 3 with the first 3 elements of each array above being set and the last 3 being uninitialized'/>
    </struct-type>

    <struct-type type-name='nemesis_unk_v47_12a_37'>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t comment='uninitialized'/>
        <int32_t comment='uninitialized'/>
        <int32_t comment='uninitialized'/>
        <int32_t/>
        <int16_t/>
        <int32_t comment='uninitialized'/>
        <int32_t/>
    </struct-type>

    <struct-type type-name='artifact_record' key-field='id'
                 instance-vector='$global.world.artifacts.all'>
        <int32_t name='id'/>

        <code-helper name='describe'>
            (describe-obj $.name)
        </code-helper>

        <compound name='name' type-name='language_name'/>

        <df-flagarray name='flags'/>

        <pointer name='item' type-name='item'/>

        <int32_t name='abs_tile_x'/>
        <int32_t name='abs_tile_y'/>
        <int32_t name='abs_tile_z'/>
        <int32_t since='v0.44.01'/>
        <int32_t name='site' ref-target='world_site'/>
        <int32_t name='structure_local' ref-target='abstract_building'/>
        <int32_t name='subregion' ref-target='world_region'/>
        <int32_t name='feature_layer' ref-target='world_underground_region'/>
        <int32_t name='holder_hf' ref-target='historical_figure'/>
        <int32_t init-value='-1' since='v0.47.01'/>
        <stl-vector type-name='int32_t' since='v0.44.01'/>
        <stl-vector type-name='int32_t' since='v0.44.01'/>
        <stl-vector type-name='int32_t' since='v0.44.01'/>
        <int32_t since='v0.44.01'/>
        <int32_t since='v0.44.01'/>
        <int32_t since='v0.44.01'/>
        <int32_t since='v0.44.01'/>
        <int32_t since='v0.44.01'/>
        <int32_t since='v0.44.01'/>
        <int32_t since='v0.44.01'/>
        <int32_t comment='unused?'/>
    </struct-type>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
