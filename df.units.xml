<data-definition>
    <bitfield-type type-name='unit_flags1' base-type='uint32_t'>
        <flag-bit name='move_state'
                  comment='Can the dwarf move or are they waiting for their movement timer'/>
        <flag-bit name='dead'
                  comment='Dead (might also be set for incoming/leaving critters that are alive)'/>
        <flag-bit name='has_mood' comment='Currently in mood'/>
        <flag-bit name='had_mood' comment='Had a mood already'/>

        <flag-bit name='marauder' comment='wide class of invader/inside creature attackers'/>
        <flag-bit name='drowning' comment='Is currently drowning'/>
        <flag-bit name='merchant' comment='An active merchant'/>
        <flag-bit name='forest'
                  comment='used for units no longer linked to merchant/diplomacy, they just try to leave mostly'/>

        <flag-bit name='left' comment='left the map'/>
        <flag-bit name='rider' comment='Is riding an another creature'/>
        <flag-bit name='incoming'/>
        <flag-bit name='diplomat'/>

        <flag-bit name='zombie'/>
        <flag-bit name='skeleton'/>
        <flag-bit name='can_swap' comment='Can swap tiles during movement (prevents multiple swaps)'/>
        <flag-bit name='on_ground' comment='The creature is laying on the floor, can be conscious'/>

        <flag-bit name='projectile' comment='Launched into the air? Funny.'/>
        <flag-bit name='active_invader' comment='Active invader (for organized ones)'/>
        <flag-bit name='hidden_in_ambush'/>
        <flag-bit name='invader_origin' comment='Invader origin (could be inactive and fleeing)'/>

        <flag-bit name='coward' comment='Will flee if invasion turns around'/>
        <flag-bit name='hidden_ambusher' comment='Active marauder/invader moving inward?'/>
        <flag-bit name='invades' comment='Marauder resident/invader moving in all the way'/>
        <flag-bit name='check_flows' comment='Check against flows next time you get a chance'/>

        <flag-bit name='ridden'/>
        <flag-bit name='caged'/>
        <flag-bit name='tame'/>
        <flag-bit name='chained'/>

        <flag-bit name='royal_guard'/>
        <flag-bit name='fortress_guard'/>
        <flag-bit name='suppress_wield'/>
        <flag-bit name='important_historical_figure' comment='Is an important historical figure'/>
    </bitfield-type>

    <bitfield-type type-name='unit_flags2' base-type='uint32_t'>
        <flag-bit name='swimming'/>
        <flag-bit name='sparring'/>
        <flag-bit name='no_notify' comment='Do not notify about level gains (for embark etc)'/>
        <flag-bit name='unused'/>

        <flag-bit name='calculated_nerves'/>
        <flag-bit name='calculated_bodyparts'/>
        <flag-bit name='important_historical_figure'
                  comment='Is important historical figure (slight variation)'/>
        <flag-bit name='killed'
                  comment='Has been killed by kill function (slightly different from dead, not necessarily violent death)'/>

        <flag-bit name='cleanup_1' comment='Must be forgotten by forget function (just cleanup)'/>
        <flag-bit name='cleanup_2' comment='Must be deleted (cleanup)'/>
        <flag-bit name='cleanup_3' comment='Recently forgotten (cleanup)'/>
        <flag-bit name='for_trade' comment='Offered for trade'/>

        <flag-bit name='trade_resolved'/>
        <flag-bit name='has_breaks'/>
        <flag-bit name='gutted'/>
        <flag-bit name='circulatory_spray'/>

        <flag-bit name='locked_in_for_trading'
                  comment="Locked in for trading (it's a projectile on the other set of flags, might be what the flying was)"/>
        <flag-bit name='slaughter' comment='marked for slaughter'/>
        <flag-bit name='underworld' comment='Underworld creature'/>
        <flag-bit name='resident' comment='Current resident'/>

        <flag-bit name='cleanup_4'
                  comment='Marked for special cleanup as unused load from unit block on disk'/>
        <flag-bit name='calculated_insulation' comment='Insulation from clothing calculated'/>
        <flag-bit name='visitor_uninvited' comment='Uninvited guest'/>
        <flag-bit name='visitor'/>

        <flag-bit name='calculated_inventory' comment='Inventory order calculated'/>
        <flag-bit name='vision_good' comment='Vision -- have good part'/>
        <flag-bit name='vision_damaged' comment='Vision -- have damaged part'/>
        <flag-bit name='vision_missing' comment='Vision -- have missing part'/>

        <flag-bit name='breathing_good' comment='Breathing -- have good part'/>
        <flag-bit name='breathing_problem' comment='Breathing -- having a problem'/>
        <flag-bit name='roaming_wilderness_population_source'/>
        <flag-bit name='roaming_wilderness_population_source_not_a_map_feature'/>
    </bitfield-type>

    <bitfield-type type-name='unit_flags3' base-type='uint32_t'>
        <flag-bit name='unk0' comment='Is 1 for new and dead creatures, periodicaly set to 0 for non-dead creatures.'/>
        <flag-bit name='unk1' comment='Is 1 for new creatures, periodically set to 0 for non-dead creatures.'/>
        <flag-bit name='unk2' comment='Is set to 1 every tick for non-dead creatures.'/>
        <flag-bit name='unk3' comment='Is periodically set to 0 for non-dead creatures.'/>

        <flag-bit name='announce_titan' comment='Announces creature like an FB or titan.'/>
        <flag-bit name='unk5'/>
        <flag-bit name='unk6'/>
        <flag-bit name='unk7'/>

        <flag-bit name='unk8' comment='Is set to 1 every tick for non-dead creatures.'/>
        <flag-bit name='unk9' comment='Is set to 0 every tick for non-dead creatures.'/>
        <flag-bit name='scuttle'>
            <comment>
                Scuttle creature: causes creature to be killed, leaving a behind
                corpse and generating negative thoughts like a real kill.
            </comment>
        </flag-bit>
        <flag-bit name='unk11'/>

        <flag-bit name='ghostly'/>
    </bitfield-type>

    <enum-type type-name='personality_facet_type'>
        <enum-item name='ANXIETY'/>
        <enum-item name='ANGER'/>
        <enum-item name='DEPRESSION'/>
        <enum-item name='SELF_CONSCIOUSNESS'/>
        <enum-item name='IMMODERATION'/>
        <enum-item name='VULNERABILITY'/>
        <enum-item name='FRIENDLINESS'/>
        <enum-item name='GREGARIOUSNESS'/>
        <enum-item name='ASSERTIVENESS'/>
        <enum-item name='ACTIVITY_LEVEL'/>
        <enum-item name='EXCITEMENT_SEEKING'/>
        <enum-item name='CHEERFULNESS'/>
        <enum-item name='IMAGINATION'/>
        <enum-item name='ARTISTIC_INTEREST'/>
        <enum-item name='EMOTIONALITY'/>
        <enum-item name='ADVENTUROUSNESS'/>
        <enum-item name='INTELLECTUAL_CURIOSITY'/>
        <enum-item name='LIBERALISM'/>
        <enum-item name='TRUST'/>
        <enum-item name='STRAIGHTFORWARDNESS'/>
        <enum-item name='ALTRUISM'/>
        <enum-item name='COOPERATION'/>
        <enum-item name='MODESTY'/>
        <enum-item name='SYMPATHY'/>
        <enum-item name='SELF_EFFICACY'/>
        <enum-item name='ORDERLINESS'/>
        <enum-item name='DUTIFULNESS'/>
        <enum-item name='ACHIEVEMENT_STRIVING'/>
        <enum-item name='SELF_DISCIPLINE'/>
        <enum-item name='CAUTIOUSNESS'/>
    </enum-type>

    <enum-type type-name='physical_attribute_type'>
        <enum-item name='STRENGTH'/>
        <enum-item name='AGILITY'/>
        <enum-item name='TOUGHNESS'/>
        <enum-item name='ENDURANCE'/>
        <enum-item name='RECUPERATION'/>
        <enum-item name='DISEASE_RESISTANCE'/>
    </enum-type>

    <enum-type type-name='mental_attribute_type'>
        <enum-item name='ANALYTICAL_ABILITY'/>
        <enum-item name='FOCUS'/>
        <enum-item name='WILLPOWER'/>
        <enum-item name='CREATIVITY'/>
        <enum-item name='INTUITION'/>
        <enum-item name='PATIENCE'/>
        <enum-item name='MEMORY'/>
        <enum-item name='LINGUISTIC_ABILITY'/>
        <enum-item name='SPATIAL_SENSE'/>
        <enum-item name='MUSICALITY'/>
        <enum-item name='KINESTHETIC_SENSE'/>
        <enum-item name='EMPATHY'/>
        <enum-item name='SOCIAL_AWARENESS'/>
    </enum-type>

    <enum-type type-name='mood_type' base-type='int16_t'>
        <enum-item name='None' value='-1'/>
        <enum-item name='Fey'/>
        <enum-item name='Secretive'/>
        <enum-item name='Possessed'/>
        <enum-item name='Macabre'/>
        <enum-item name='Fell'/>
        <enum-item name='Melancholy'/>
        <enum-item name='Raving'/>
        <enum-item name='Berserk'/>
        <enum-item name='Baby'/>
        <enum-item name='Traumatized'/>
    </enum-type>

    <enum-type type-name='ghost_type' base-type='int16_t'>
        <enum-item name='MurderousGhost'/>
        <enum-item name='SadisticGhost'/>
        <enum-item name='SecretivePoltergeist'/>
        <enum-item name='EnergeticPoltergeist'/>
        <enum-item name='AngryGhost'/>
        <enum-item name='ViolentGhost'/>
        <enum-item name='MoaningSpirit'/>
        <enum-item name='HowlingSpirit'/>
        <enum-item name='TroublesomePoltergeist'/>
        <enum-item name='RestlessHaunt'/>
        <enum-item name='ForlornHaunt'/>
    </enum-type>

    <enum-type type-name='animal_training_level' base-type='int32_t'>
        <enum-item name='SemiWild'/>
        <enum-item name='Trained'/>
        <enum-item name='WellTrained'/>
        <enum-item name='SkilfullyTrained'/>
        <enum-item name='ExpertlyTrained'/>
        <enum-item name='ExceptionallyTrained'/>
        <enum-item name='MasterfullyTrained'/>
        <enum-item name='Domesticated'/>
        <enum-item name='Unk8'/>
        <enum-item name='WildUntamed'
                   comment='Seems to be used as default when not flags1.tame'/>
    </enum-type>

    <enum-type type-name='unit_thought_type'>
        <enum-attr name='value'/>
        <enum-attr name='caption'/>

        <enum-item name='Miscarriage'>
            <item-attr name='value' value='-50/-30/-20/-10'/>
            <item-attr name='caption' value='had a miscarriage recently'/>
        </enum-item>
        <enum-item name='Evicted'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='has been evicted lately'/>
        </enum-item>
        <enum-item name='Tired'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='has been tired lately'/>
        </enum-item>
        <enum-item name='Exhausted'>
            <item-attr name='value' value='-30'/>
            <item-attr name='caption' value='has been exhausted lately'/>
        </enum-item>
        <enum-item name='Hunger'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='has complained of hunger lately'/>
        </enum-item>
        <enum-item name='Thirst'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='has complained of thirst lately'/>
        </enum-item>
        <enum-item name='Starving'>
            <item-attr name='value' value='-30'/>
            <item-attr name='caption' value='has been starving lately'/>
        </enum-item>
        <enum-item name='Dehydrated'>
            <item-attr name='value' value='-30'/>
            <item-attr name='caption' value='has been dehydrated lately'/>
        </enum-item>
        <enum-item name='ScarceTaxCollectionEscorts'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='was worried by the scarcity of tax collection escorts lately'/>
        </enum-item>
        <enum-item name='ScarceGuards'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='was worried by the scarcity of guards lately'/>
        </enum-item>
        <enum-item name='ScarceCageChain'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='was worried by the scarcity of cages and chains lately'/>
        </enum-item>
        <enum-item name='Attacked'>
            <item-attr name='value' value='-30/-20/-10/-5'/>
            <item-attr name='caption' value='has been attacked lately'/>
        </enum-item>
        <enum-item name='AttackedByDead'>
            <item-attr name='value' value='-100/-60/-40/-20'/>
            <item-attr name='caption' value='has been attacked by a dead (pet/spouse/mother/...) lately'/>
        </enum-item>
        <enum-item name='ReachRoomTax'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='was unable to reach a room for tax collection lately'/>
        </enum-item>
        <enum-item name='MisinformedRoomTax'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='was misinformed about a room for tax collection lately'/>
        </enum-item>
        <enum-item name='RoughTaxCollection'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='was upset that the tax collection didnt go smoothly lately'/>
        </enum-item>
        <enum-item name='Taxed'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='has been taxed recently'/>
        </enum-item>
        <enum-item name='TaxedLostProperty'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='has lost property to the tax collectors escorts recently'/>
        </enum-item>
        <enum-item name='DisappointNoble'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='was upset to have disappointed a noble lately'/>
        </enum-item>
        <enum-item name='LackChairs'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='has complained of the lack of chairs lately'/>
        </enum-item>
        <enum-item name='CrowdedTables'>
            <item-attr name='value' value='-2'/>
            <item-attr name='caption' value='has complained of the crowded tables lately'/>
        </enum-item>
        <enum-item name='LackTables'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='has complained of the lack of dining tables lately'/>
        </enum-item>
        <enum-item name='EatVermin'>
            <item-attr name='value' value='-30/-20/-10'/>
            <item-attr name='caption' value='was forced to eat vermin to survive lately'/>
        </enum-item>
        <enum-item name='EatCreature'>
            <item-attr name='value' value='-50'/>
            <item-attr name='caption' value='was forced to eat a beloved creature to survive lately'/>
        </enum-item>
        <enum-item name='EatPet'>
            <item-attr name='value' value='-1000'/>
            <item-attr name='caption' value='was forced to eat a treasured pet to survive lately'/>
        </enum-item>
        <enum-item name='LackWell'>
            <item-attr name='value' value='-5/-3/-2'/>
            <item-attr name='caption' value='has complained of the lack of a well lately'/>
        </enum-item>
        <enum-item name='NastyWater'>
            <item-attr name='value' value='-10/-5/-3'/>
            <item-attr name='caption' value='has complained of the nasty water lately'/>
        </enum-item>
        <enum-item name='DrinkSlime'>
            <item-attr name='value' value='-30/-20/-10/-5'/>
            <item-attr name='caption' value='was forced to drink slime lately'/>
        </enum-item>
        <enum-item name='DrinkVomit'>
            <item-attr name='value' value='-30/-20/-10/-5'/>
            <item-attr name='caption' value='was forced to drink vomit lately'/>
        </enum-item>
        <enum-item name='DrinkBloody'>
            <item-attr name='value' value='-30/-20/-10/-5'/>
            <item-attr name='caption' value='was forced to drink bloody water lately'/>
        </enum-item>
        <enum-item name='DrinkGooey'>
            <item-attr name='value' value='-30/-20/-10/-5'/>
            <item-attr name='caption' value='was forced to drink gooey water lately'/>
        </enum-item>
        <enum-item name='DrinkIchor'>
            <item-attr name='value' value='-30/-20/-10/-5'/>
            <item-attr name='caption' value='was forced to drink ichorous water lately'/>
        </enum-item>
        <enum-item name='DrinkPurulent'>
            <item-attr name='value' value='-30/-20/-10/-5'/>
            <item-attr name='caption' value='was forced to drink purulent water lately'/>
        </enum-item>
        <enum-item name='SleepNoise'>
            <item-attr name='value' value='-2'/>
            <item-attr name='caption' value='slept uneasily due to noise lately'/>
        </enum-item>
        <enum-item name='SleepNoiseBad'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='slept very uneasily due to noise lately'/>
        </enum-item>
        <enum-item name='SleepNoiseWake'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='was woken by noise while sleeping lately'/>
        </enum-item>
        <enum-item name='LackProtection'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='was worried not to have adequate protection lately'/>
        </enum-item>
        <enum-item name='Draft'>
            <item-attr name='value' value='-30'/>
            <item-attr name='caption' value='has complained about the draft lately'/>
        </enum-item>
        <enum-item name='Relieved'>
            <item-attr name='value' value='-30'/>
            <item-attr name='caption' value='was upset about being relieved from duty'/>
        </enum-item>
        <enum-item name='ArtDefacement'>
            <item-attr name='value' value='-200/x'/>
            <item-attr name='caption' value='has suffered the travesty of art defacement'/>
        </enum-item>
        <enum-item name='Flies'>
            <item-attr name='value' value='-5/-3/-2'/>
            <item-attr name='caption' value='has been annoyed by flies'/>
        </enum-item>
        <enum-item name='Vermin'>
            <item-attr name='value' value='-30/-20/-10'/>
            <item-attr name='caption' value='has been accosted by terrible vermin'/>
        </enum-item>
        <enum-item name='BadCage'>
            <item-attr name='value' value='-10/-5/-3'/>
            <item-attr name='caption' value='saw something unpleasant in a cage recently'/>
        </enum-item>
        <enum-item name='BadPond'>
            <item-attr name='value' value='-10/-5/-3'/>
            <item-attr name='caption' value='saw something unpleasant in a pond recently'/>
        </enum-item>
        <enum-item name='WitnessDeath'>
            <item-attr name='value' value='-30/-20/-10/-5'/>
            <item-attr name='caption' value='has witnessed death'/>
        </enum-item>
        <enum-item name='LostPet'>
            <item-attr name='value' value='-50/-30/-20/-10'/>
            <item-attr name='caption' value='has lost a pet recently'/>
        </enum-item>
        <enum-item name='LostPet2'>
            <item-attr name='value' value='-50/-30/-20/-10'/>
            <item-attr name='caption' value='has lost a pet recently'/>
        </enum-item>
        <enum-item name='RageKill'>
            <item-attr name='value' value='-50/-30/-20/-10'/>
            <item-attr name='caption' value='accidentally killed somebody in a fit of rage recently'/>
        </enum-item>
        <enum-item name='SparringKill'>
            <item-attr name='value' value='-50/-30/-20/-10'/>
            <item-attr name='caption' value='killed somebody by accident while sparring recently'/>
        </enum-item>
        <enum-item name='LostSpouse'>
            <item-attr name='value' value='-50/-30/-20/-10'/>
            <item-attr name='caption' value='has lost a spouse to tragedy recently'/>
        </enum-item>
        <enum-item name='LostFriend'>
            <item-attr name='value' value='-50/-30/-20/-10'/>
            <item-attr name='caption' value='has lost a friend to tragedy recently'/>
        </enum-item>
        <enum-item name='LostSibling'>
            <item-attr name='value' value='-50/-30/-20/-10'/>
            <item-attr name='caption' value='has lost a sibling to tragedy recently'/>
        </enum-item>
        <enum-item name='LostChild'>
            <item-attr name='value' value='-50/-30/-20/-10'/>
            <item-attr name='caption' value='has lost a child to tragedy recently'/>
        </enum-item>
        <enum-item name='LostMother'>
            <item-attr name='value' value='-50/-30/-20/-10'/>
            <item-attr name='caption' value='has lost a mother to tragedy recently'/>
        </enum-item>
        <enum-item name='LostFather'>
            <item-attr name='value' value='-50/-30/-20/-10'/>
            <item-attr name='caption' value='has lost a father to tragedy recently'/>
        </enum-item>
        <enum-item name='Decay'>
            <item-attr name='value' value='-20/-10/-5/-3'/>
            <item-attr name='caption' value='was forced to endure the decay of a (pet/spouse/mother..)'/>
        </enum-item>
        <enum-item name='AteRotten'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='ate rotten food lately'/>
        </enum-item>
        <enum-item name='DrankSpoiled'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='drank something spoiled lately'/>
        </enum-item>
        <enum-item name='LongPatrol'>
            <item-attr name='value' value='-2/-3/-5-/10'/>
            <item-attr name='caption' value='was (grumbling/depressed/angered/enraged) about long patrol duty lately'/>
        </enum-item>
        <enum-item name='Miasma'>
            <item-attr name='value' value='-5/-3/-2'/>
            <item-attr name='caption' value='was disgusted by a miasma lately'/>
        </enum-item>
        <enum-item name='Smoke'>
            <item-attr name='value' value='-5/-3/-2'/>
            <item-attr name='caption' value='choked on smoke underground lately'/>
        </enum-item>
        <enum-item name='Dust'>
            <item-attr name='value' value='-5/-3/-2'/>
            <item-attr name='caption' value='choked on dust underground lately'/>
        </enum-item>
        <enum-item name='Cavein'>
            <item-attr name='value' value='-20/-10/-5/-3'/>
            <item-attr name='caption' value='was knocked out during a cave-in lately'/>
        </enum-item>
        <enum-item name='MeetingInDiningRoom'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='was embarrassed to have to conduct an official meeting in a dining room'/>
        </enum-item>
        <enum-item name='MeetingInBedroom'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='was very embarrassed to have to conduct an official meeting in a bedroom'/>
        </enum-item>
        <enum-item name='NoRoom'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='was incredibly embarrassed not to have any rooms lately'/>
        </enum-item>
        <enum-item name='MajorInjuries'>
            <item-attr name='value' value='-30/-20/-10/-5'/>
            <item-attr name='caption' value='sustained major injuries recently'/>
        </enum-item>
        <enum-item name='MinorInjuries'>
            <item-attr name='value' value='-20/-10/-5/-3'/>
            <item-attr name='caption' value='sustained minor injuries recently'/>
        </enum-item>
        <enum-item name='SleptMud'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='slept in the mud recently'/>
        </enum-item>
        <enum-item name='SleptGrass'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='slept in the grass recently'/>
        </enum-item>
        <enum-item name='SleptDirt'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='slept in the dirt recently'/>
        </enum-item>
        <enum-item name='SleptRocks'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='slept on rocks recently'/>
        </enum-item>
        <enum-item name='SleptRoughFloor'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='slept on a rough cave floor recently'/>
        </enum-item>
        <enum-item name='SleptFloor'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='slept on the floor recently'/>
        </enum-item>
        <enum-item name='SleptIce'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='slept on ice recently'/>
        </enum-item>
        <enum-item name='SleptDriftwood'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='slept on a pile of driftwood recently'/>
        </enum-item>
        <enum-item name='SleptNoRoom'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='slept without a proper room recently'/>
        </enum-item>
        <enum-item name='SleptBaaaaadroom'>
            <item-attr name='value' value='-20'/>
            <item-attr name='caption' value='slept in a horribly substandard bedroom recently'/>
        </enum-item>
        <enum-item name='SleepBaaaadroom'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='slept in a horrible bedroom recently'/>
        </enum-item>
        <enum-item name='SleptBaaadroom'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='slept in an awful bedroom recently'/>
        </enum-item>
        <enum-item name='SleptBaadroom'>
            <item-attr name='value' value='-3'/>
            <item-attr name='caption' value='slept in a very poor bedroom recently'/>
        </enum-item>
        <enum-item name='SleptBadroom'>
            <item-attr name='value' value='-2'/>
            <item-attr name='caption' value='slept in a poor bedroom recently'/>
        </enum-item>
        <enum-item name='MeetingBaaaaadsetting'>
            <item-attr name='value' value='-30'/>
            <item-attr name='caption' value='conducted a meeting in a horribly substandard setting recently'/>
        </enum-item>
        <enum-item name='MeetingBaaaadsetting'>
            <item-attr name='value' value='-20'/>
            <item-attr name='caption' value='conducted a meeting in a horrible setting recently'/>
        </enum-item>
        <enum-item name='MeetingBaaadsetting'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='conducted a meeting in an awful setting recently'/>
        </enum-item>
        <enum-item name='MeetingBaadsetting'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='conducted a meeting in a very poor setting recently'/>
        </enum-item>
        <enum-item name='MeetingBadsetting'>
            <item-attr name='value' value='-3'/>
            <item-attr name='caption' value='conducted a meeting in a poor setting recently'/>
        </enum-item>
        <enum-item name='DinedBaaaaadRoom'>
            <item-attr name='value' value='-20'/>
            <item-attr name='caption' value='dined in a horribly substandard dining room recently'/>
        </enum-item>
        <enum-item name='DinedBaaaadRoom'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='dined in a horrible dining room recently'/>
        </enum-item>
        <enum-item name='DinedBaaadRoom'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='dined in an awful dining room recently'/>
        </enum-item>
        <enum-item name='DinedBaadRoom'>
            <item-attr name='value' value='-3'/>
            <item-attr name='caption' value='dined in a very poor dining room recently'/>
        </enum-item>
        <enum-item name='DinedBadRoom'>
            <item-attr name='value' value='-2'/>
            <item-attr name='caption' value='dined in a poor dining room recently'/>
        </enum-item>
        <enum-item name='DinedNoRoom'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='dined without a proper dining room recently'/>
        </enum-item>
        <enum-item name='NoTomb'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='worried greatly about not having a tomb after gaining another year'/>
        </enum-item>
        <enum-item name='BaaaaadTomb'>
            <item-attr name='value' value='-30'/>
            <item-attr name='caption' value='worried about having a horribly substandard tomb after gaining another year'/>
        </enum-item>
        <enum-item name='BaaaadTomb'>
            <item-attr name='value' value='-20'/>
            <item-attr name='caption' value='worried about having a horrible tomb after gaining another year'/>
        </enum-item>
        <enum-item name='BaaadTomb'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='worried about having an awful tomb after gaining another year'/>
        </enum-item>
        <enum-item name='BaadTomb'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='worried about having a very poor tomb after gaining another year'/>
        </enum-item>
        <enum-item name='BadTomb'>
            <item-attr name='value' value='-3'/>
            <item-attr name='caption' value='worried about having a poor tomb after gaining another year'/>
        </enum-item>
        <enum-item name='GreatAngerDemands'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='was greatly angered at the state of demands recently'/>
        </enum-item>
        <enum-item name='VeryAngerDemands'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='was very angered at the state of demands recently'/>
        </enum-item>
        <enum-item name='AngerDemands'>
            <item-attr name='value' value='-3'/>
            <item-attr name='caption' value='was angered at the state of demands recently'/>
        </enum-item>
        <enum-item name='MoreChests'>
            <item-attr name='value' value='-3'/>
            <item-attr name='caption' value='was upset by not having enough chests lately'/>
        </enum-item>
        <enum-item name='MoreCabinets'>
            <item-attr name='value' value='-3'/>
            <item-attr name='caption' value='was upset by not having enough cabinets lately'/>
        </enum-item>
        <enum-item name='MoreArmorStands'>
            <item-attr name='value' value='-3'/>
            <item-attr name='caption' value='was upset by not having enough armor stands lately'/>
        </enum-item>
        <enum-item name='MoreWeaponRacks'>
            <item-attr name='value' value='-3'/>
            <item-attr name='caption' value='was upset by not having enough weapon racks lately'/>
        </enum-item>
        <enum-item name='OldClothing'>
            <item-attr name='value' value='-3/-2'/>
            <item-attr name='caption' value='was upset to be wearing old clothing lately'/>
        </enum-item>
        <enum-item name='TatteredClothing'>
            <item-attr name='value' value='-5/-3/-2'/>
            <item-attr name='caption' value='was upset to be wearing tattered clothing lately'/>
        </enum-item>
        <enum-item name='WornClothing'>
            <item-attr name='value' value='-10/-5/-3'/>
            <item-attr name='caption' value='was very upset to have worn clothes rot away lately'/>
        </enum-item>
        <enum-item name='Uncovered'>
            <item-attr name='value' value='-20/-10/-5'/>
            <item-attr name='caption' value='was very embarrassed to be uncovered lately'/>
        </enum-item>
        <enum-item name='NoShirt'>
            <item-attr name='value' value='-10/-5/-3'/>
            <item-attr name='caption' value='was embarrassed to have no shirt lately'/>
        </enum-item>
        <enum-item name='NoShoes'> and i still get service
            <item-attr name='value' value='-10/-5/-3'/>
            <item-attr name='caption' value='was embarrassed to have no shoes lately'/>
        </enum-item>
        <enum-item name='NoCloak'>
            <item-attr name='value' value='-20/-10/-5'/>
            <item-attr name='caption' value='was very embarrassed to be uncloaked lately'/>
        </enum-item>
        <enum-item name='Rain'>
            <item-attr name='value' value='-3/-2'/>
            <item-attr name='caption' value='was caught in the rain recently'/>
        </enum-item>
        <enum-item name='SnowStorm'>
            <item-attr name='value' value='-3/-2'/>
            <item-attr name='caption' value='was caught in a snow storm recently'/>
        </enum-item>
        <enum-item name='FreakishWater'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='was caught in freakish weather recently'/>
        </enum-item>
        <enum-item name='BadArrangements'>
            <item-attr name='value' value='-4*x'/>
            <item-attr name='caption' value='was (put off/flustered/upset/very upset/greatly upset/angered/enraged/shattered/traumatized/utterly traumatized) by a lessers pretentious (office/sleeping/dining/burial) arrangements lately'/>
        </enum-item>
        <enum-item name='NoHammer'>
            <item-attr name='value' value='-50'/>
            <item-attr name='caption' value='was unable to find an available hammer lately'/>
        </enum-item>
        <enum-item name='MandateIgnored'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='was upset by having a mandate ignored lately'/>
        </enum-item>
        <enum-item name='MandateDeadlineMissed'>
            <item-attr name='value' value='-3'/>
            <item-attr name='caption' value='was upset by having a mandate deadline missed lately'/>
        </enum-item>
        <enum-item name='RequestIgnored'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='was upset by having a request ignored lately'/>
        </enum-item>
        <enum-item name='NoPunishment'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='was angered that nobody could be punished for a recent failure'/>
        </enum-item>
        <enum-item name='BadPunishment'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='was upset that a criminal could not be properly punished'/>
        </enum-item>
        <enum-item name='DelayedPunishment'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='was upset by the delayed punishment of a criminal'/>
        </enum-item>
        <enum-item name='Beaten'>
            <item-attr name='value' value='-10/-5/-3/-2'/>
            <item-attr name='caption' value='was beaten recently'/>
        </enum-item>
        <enum-item name='BeatenHammer'>
            <item-attr name='value' value='-20/-10/-5/-3'/>
            <item-attr name='caption' value='was beaten with a hammer recently'/>
        </enum-item>
        <enum-item name='Confined'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='is depressed about being confined'/>
        </enum-item>
        <enum-item name='LackWork'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='was unhappy with the lack of work last season'/>
        </enum-item>
        <enum-item name='Nightmare'>
            <item-attr name='value' value='-20'/>
            <item-attr name='caption' value='had a terrifying nightmare about an army of the dead'/>
        </enum-item>
        <enum-item name='AdmireBuilding'>
            <item-attr name='value' value='+x'/>
            <item-attr name='caption' value='admired a (fine/very fine/splendid/wonderful/completely sublime) (building) lately'/>
        </enum-item>
        <enum-item name='AdmireOwnBuilding'>
            <item-attr name='value' value='+2x'/>
            <item-attr name='caption' value='admired own (fine/very fine/splendid/wonderful/completely sublime) (building) lately'/>
        </enum-item>
        <enum-item name='AdmireArrangedBuilding'>
            <item-attr name='value' value='+2x'/>
            <item-attr name='caption' value='admired a (fine/very fine/splendid/wonderful/completely sublime) tastefully arranged (building) lately'/>
        </enum-item>
        <enum-item name='AdmireArrangedOwnBuilding'>
            <item-attr name='value' value='+4x'/>
            <item-attr name='caption' value='admired own (fine/very fine/splendid/wonderful/completely sublime) tastefully arranged (building) lately'/>
        </enum-item>
        <enum-item name='ComfortCage'>
            <item-attr name='value' value='+3'/>
            <item-attr name='caption' value='was comforted by a wonderful creature in a cage recently'/>
        </enum-item>
        <enum-item name='ComfortPond'>
            <item-attr name='value' value='+3'/>
            <item-attr name='caption' value='was comforted by a wonderful creature in a pond recently'/>
        </enum-item>
        <enum-item name='RequestApproved'>
            <item-attr name='value' value='+5'/>
            <item-attr name='caption' value='was pleased by having a request approved lately'/>
        </enum-item>
        <enum-item name='PunishmentReduced'>
            <item-attr name='value' value='+20'/>
            <item-attr name='caption' value='was glad to have punishment reduced recently'/>
        </enum-item>
        <enum-item name='PunishmentDelayed'>
            <item-attr name='value' value='+20'/>
            <item-attr name='caption' value='was glad to have punishment delayed recently'/>
        </enum-item>
        <enum-item name='Beat'>
            <item-attr name='value' value='+5'/>
            <item-attr name='caption' value='beat somebody recently'/>
        </enum-item>
        <enum-item name='BeatHammer'>
            <item-attr name='value' value='+5'/>
            <item-attr name='caption' value='beat somebody with a hammer recently'/>
        </enum-item>
        <enum-item name='SatisfiedAtWork'>
            <item-attr name='value' value='+5'/>
            <item-attr name='caption' value='has been satisfied at work lately'/>
        </enum-item>
        <enum-item name='NoblePleased'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='was happy to have pleased a noble lately'/>
        </enum-item>
        <enum-item name='Artifact'>
            <item-attr name='value' value='+1000'/>
            <item-attr name='caption' value='is quite pleased with making an artifact'/>
        </enum-item>
        <enum-item name='Acquisition'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='made a satisfying acquisition lately'/>
        </enum-item>
        <enum-item name='AdoptedPet'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='adopted a new pet recently'/>
        </enum-item>
        <enum-item name='JoyInSlaughter'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='took joy in slaughter lately'/>
        </enum-item>
        <enum-item name='DecentMeal'>
            <item-attr name='value' value='+2'/>
            <item-attr name='caption' value='ate a pretty decent meal lately'/>
        </enum-item>
        <enum-item name='FineDish'>
            <item-attr name='value' value='+3'/>
            <item-attr name='caption' value='ate a fine dish lately'/>
        </enum-item>
        <enum-item name='WonderfulDish'>
            <item-attr name='value' value='+5'/>
            <item-attr name='caption' value='ate a wonderful dish lately'/>
        </enum-item>
        <enum-item name='DecadentDish'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='ate a truly decadent dish lately'/>
        </enum-item>
        <enum-item name='LegendaryMeal'>
            <item-attr name='value' value='+20'/>
            <item-attr name='caption' value='ate a legendary meal lately'/>
        </enum-item>
        <enum-item name='DecentDrink'>
            <item-attr name='value' value='+2'/>
            <item-attr name='caption' value='had a pretty decent drink lately'/>
        </enum-item>
        <enum-item name='FineDrink'>
            <item-attr name='value' value='+3'/>
            <item-attr name='caption' value='had a fine drink lately'/>
        </enum-item>
        <enum-item name='WonderfulDrink'>
            <item-attr name='value' value='+5'/>
            <item-attr name='caption' value='had a wonderful drink lately'/>
        </enum-item>
        <enum-item name='DecadentDrink'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='had a truly decadent drink lately'/>
        </enum-item>
        <enum-item name='LegendaryDrink'>
            <item-attr name='value' value='+20'/>
            <item-attr name='caption' value='had a legendary drink lately'/>
        </enum-item>
        <enum-item name='ComfortPet'>
            <item-attr name='value' value='+5'/>
            <item-attr name='caption' value='was comforted by a pet lately'/>
        </enum-item>
        <enum-item name='SawCreature'>
            <item-attr name='value' value='+5'/>
            <item-attr name='caption' value='saw a beloved creature lately'/>
        </enum-item>
        <enum-item name='MandateDeadline'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='was pleased to have a mandate deadline met lately'/>
        </enum-item>
        <enum-item name='Talked'>
            <item-attr name='value' value='+2'/>
            <item-attr name='caption' value='talked with (somebody/a pet/a spouse/...) lately'/>
        </enum-item>
        <enum-item name='Friend'>
            <item-attr name='value' value='+5'/>
            <item-attr name='caption' value='made a friend recently'/>
        </enum-item>
        <enum-item name='SmoothTaxCollection'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='was pleased that the tax collection went smoothly lately'/>
        </enum-item>
        <enum-item name='Waterfall'>
            <item-attr name='value' value='+5'/>
            <item-attr name='caption' value='was comforted by a lovely waterfall lately'/>
        </enum-item>
        <enum-item name='LegendaryMeeting'>
            <item-attr name='value' value='+30'/>
            <item-attr name='caption' value='conducted a meeting in a setting worthy of legends recently'/>
        </enum-item>
        <enum-item name='FantasticMeeting'>
            <item-attr name='value' value='+20'/>
            <item-attr name='caption' value='conducted a meeting in a fantastic setting recently'/>
        </enum-item>
        <enum-item name='GreatMeeting'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='conducted a meeting in a great setting recently'/>
        </enum-item>
        <enum-item name='VGoodMeeting'>
            <item-attr name='value' value='+5'/>
            <item-attr name='caption' value='conducted a meeting in a very good setting recently'/>
        </enum-item>
        <enum-item name='GoodMeeting'>
            <item-attr name='value' value='+3'/>
            <item-attr name='caption' value='conducted a meeting in a good setting recently'/>
        </enum-item>
        <enum-item name='LegendaryDiningRoom'>
            <item-attr name='value' value='+20'/>
            <item-attr name='caption' value='dined in a legendary dining room recently'/>
        </enum-item>
        <enum-item name='FantasticDiningRoom'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='dined in a fantastic dining room recently'/>
        </enum-item>
        <enum-item name='GreatDiningRoom'>
            <item-attr name='value' value='+5'/>
            <item-attr name='caption' value='dined in a great dining room recently'/>
        </enum-item>
        <enum-item name='VGoodDiningRoom'>
            <item-attr name='value' value='+3'/>
            <item-attr name='caption' value='dined in a very good dining room recently'/>
        </enum-item>
        <enum-item name='GoodDiningRoom'>
            <item-attr name='value' value='+2'/>
            <item-attr name='caption' value='dined in a good dining room recently'/>
        </enum-item>
        <enum-item name='LegendaryBedroom'>
            <item-attr name='value' value='+20'/>
            <item-attr name='caption' value='slept in a bedroom like a personal palace recently'/>
        </enum-item>
        <enum-item name='FantasticBedroom'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='slept in a fantastic bedroom recently'/>
        </enum-item>
        <enum-item name='GreatBedroom'>
            <item-attr name='value' value='+5'/>
            <item-attr name='caption' value='slept in a great bedroom recently'/>
        </enum-item>
        <enum-item name='VGoodBedroom'>
            <item-attr name='value' value='+3'/>
            <item-attr name='caption' value='slept in a very good bedroom recently'/>
        </enum-item>
        <enum-item name='Bedroom'>
            <item-attr name='value' value='+2'/>
            <item-attr name='caption' value='slept in a good bedroom recently'/>
        </enum-item>
        <enum-item name='GreatStateDemands'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='was greatly pleased at the state of demands recently'/>
        </enum-item>
        <enum-item name='VeryStateDemands'>
            <item-attr name='value' value='+5'/>
            <item-attr name='caption' value='was very pleased at the state of demands recently'/>
        </enum-item>
        <enum-item name='StateDemands'>
            <item-attr name='value' value='+3'/>
            <item-attr name='caption' value='was pleased at the state of demands recently'/>
        </enum-item>
        <enum-item name='LegendaryTomb'>
            <item-attr name='value' value='+30'/>
            <item-attr name='caption' value='celebrated having a legendary tomb after gaining another year'/>
        </enum-item>
        <enum-item name='FantasticTomb'>
            <item-attr name='value' value='+20'/>
            <item-attr name='caption' value='celebrated having a fantastic tomb after gaining another year'/>
        </enum-item>
        <enum-item name='GreatTomb'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='celebrated having a great tomb after gaining another year'/>
        </enum-item>
        <enum-item name='VGoodTomb'>
            <item-attr name='value' value='+5'/>
            <item-attr name='caption' value='celebrated having a very good tomb after gaining another year'/>
        </enum-item>
        <enum-item name='GoodTomb'>
            <item-attr name='value' value='+3'/>
            <item-attr name='caption' value='celebrated having a good tomb after gaining another year'/>
        </enum-item>
        <enum-item name='FistFight'>
            <item-attr name='value' value='+20'/>
            <item-attr name='caption' value='enjoyed starting a fist fight recently'/>
        </enum-item>
        <enum-item name='SmashedBuilding'>
            <item-attr name='value' value='+20'/>
            <item-attr name='caption' value='enjoyed smashing up a building recently'/>
        </enum-item>
        <enum-item name='ToppledStuff'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='enjoyed toppling something over recently'/>
        </enum-item>
        <enum-item name='ThrownStuff'>
            <item-attr name='value' value='+5'/>
            <item-attr name='caption' value='enjoyed throwing something recently'/>
        </enum-item>
        <enum-item name='Spar'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='had a satisfying sparring session recently'/>
        </enum-item>
        <enum-item name='Free'>
            <item-attr name='value' value='+1000'/>
            <item-attr name='caption' value='is happy to be free'/>
        </enum-item>
        <enum-item name='SunNausea'>
            <item-attr name='value' value='-20'/>
            <item-attr name='caption' value='was nauseated by the sun lately'/>
        </enum-item>
        <enum-item name='SunIrritated'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='was irritated by the sun lately'/>
        </enum-item>
        <enum-item name='Rest'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='was able to rest and recuperate lately'/>
        </enum-item>
        <enum-item name='RecvWater'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='received water recently'/>
        </enum-item>
        <enum-item name='RecvFood'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='received food recently'/>
        </enum-item>
        <enum-item name='Rescued'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='was rescued recently'/>
        </enum-item>
        <enum-item name='CantComplain'>
            <item-attr name='value' value='-10'/>
            <item-attr name='caption' value='was unable to find somebody to complain to about job scarcity lately'/>
        </enum-item>
        <enum-item name='YelledAt'>
            <item-attr name='value' value='-6/-4/-3/-2'/>
            <item-attr name='caption' value='was yelled at by an unhappy citizen lately'/>
        </enum-item>
        <enum-item name='Complained'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='was satisfied to bring up job scarcity in a meeting lately'/>
        </enum-item>
        <enum-item name='ElectedMayor'>
            <item-attr name='value' value='+30'/>
            <item-attr name='caption' value='was very happy to be elected mayor recently'/>
        </enum-item>
        <enum-item name='ReelectedMayor'>
            <item-attr name='value' value='+30'/>
            <item-attr name='caption' value='was very happy to be re-elected mayor recently'/>
        </enum-item>
        <enum-item name='ExpLeader'>
            <item-attr name='value' value='+30'/>
            <item-attr name='caption' value='was very satisfied to be chosen as the expedition leader recently'/>
        </enum-item>
        <enum-item name='HigherNoble'>
            <item-attr name='value' value='+30'/>
            <item-attr name='caption' value='was very pleased to receive a higher rank of nobility recently'/>
        </enum-item>
        <enum-item name='Noble'>
            <item-attr name='value' value='+50'/>
            <item-attr name='caption' value='was greatly pleased to enter the nobility recently'/>
        </enum-item>
        <enum-item name='Mayor'>
            <item-attr name='value' value='+30'/>
            <item-attr name='caption' value='was proud to have become a mayor recently'/>
        </enum-item>
        <enum-item name='GaveWater'>
            <item-attr name='value' value='+20/+10/+5/+3/0/-3/-5/-10/-20'/>
            <item-attr name='caption' value='was (overjoyed to be/happy to have been/pleased to have been) able to give somebody water lately'/>
        </enum-item>
        <enum-item name='GaveFood'>
            <item-attr name='value' value='+20/+10/+5/+3/0/-3/-5/-10/-20'/>
            <item-attr name='caption' value='was (overjoyed to be/happy to have been/pleased to have been) able to give somebody food lately'/>
        </enum-item>
        <enum-item name='RescuedOther'>
            <item-attr name='value' value='+20/+10/+5/+3/0/-3/-5/-10/-20'/>
            <item-attr name='caption' value='was (overjoyed to be/happy to have been/pleased to have been) able to help somebody to bed lately'/>
        </enum-item>
        <enum-item name='GaveBirth'>
            <item-attr name='value' value='+1000'/>
            <item-attr name='caption' value='gave birth to (children) recently'/>
        </enum-item>
        <enum-item name='Family'>
            <item-attr name='value' value='+250'/>
	    <item-attr name='caption' value='got (married/new romance/new sibling) recently'/>
        </enum-item>
        <enum-item name='Grudge'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='formed a grudge recently'/>
        </enum-item>
        <enum-item name='LostLover'>
            <item-attr name='value' value='-50/-30/-20/-10'/>
            <item-attr name='caption' value='has lost a lover to tragedy recently'/>
        </enum-item>
        <enum-item name='LostOther'>
            <item-attr name='value' value='-10/-5/-3/-2'/>
            <item-attr name='caption' value='(has lost/was just a little happy to lose/was happy to lose/was thrilled to lose) an annoying acquaintance to tragedy recently'/>
        </enum-item>
        <enum-item name='SameFood'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='has been tired of eating the same old food lately'/>
        </enum-item>
        <enum-item name='SameBooze'>
            <item-attr name='value' value='-5'/>
            <item-attr name='caption' value='has been tired of drinking the same old booze lately'/>
        </enum-item>
        <enum-item name='TalkPillar'>
            <item-attr name='value' value='-5/-3/-2/+5/+10/+20'/>
            <item-attr name='caption' value='was (disgusted/upset/irritated) to be forced to talk to a pillar of society recently'/>
        </enum-item>
        <enum-item name='SoapyBath'>
            <item-attr name='value' value='+10'/>
            <item-attr name='caption' value='had a wonderful soapy bath recently'/>
        </enum-item>
        <enum-item name='Bath'>
            <item-attr name='value' value='+3'/>
            <item-attr name='caption' value='had a nice bath recently'/>
        </enum-item>
        <enum-item name='HauntedByDead'>
            <item-attr name='value' value='-20/-50/-100/-200'/>
            <item-attr name='caption' value='has been (haunted/tormented/possessed/tortured) by the (dead/dead pet/...) lately'/>
        </enum-item>
        <enum-item name='TorturedByDead'>
            <item-attr name='value' value='-20/-50/-100/-200'/>
            <item-attr name='caption' value='has been tormented in nightmares by the (dead/dead pet/...) lately'/>
        </enum-item>
        <enum-item name='Convicted'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='was outraged at the ridiculous conviction of X recently/was pleased to have received justice recently'/>
        </enum-item>
        <enum-item name='LostTrainingPartner'>
            <item-attr name='value' value='-?'/>
            <item-attr name='caption' value='has lost an animal training partner to tragedy recently'/>
        </enum-item>
        <enum-item name='BoundWithTrainingPartner'>
            <item-attr name='value' value='+?'/>
            <item-attr name='caption' value='formed a bond with an animal training partner recently'/>
        </enum-item>
    </enum-type>

    <struct-type type-name='unit' key-field='id' instance-vector='$global.world.units.all'>
        <compound type-name='language_name' name='name'/>

        <code-helper name='describe'>
            (describe-obj $.name)
            (awhen (find-creature $.race)
            (fmt "~:(~A ~A~)" $it.caste[$.caste].caste_id $it.creature_id))
        </code-helper>

        <stl-string name='custom_profession'/>

        <enum base-type='int16_t' name='profession' type-name='profession'/>
        <enum base-type='int16_t' name='profession2' type-name='profession'/>

        <int32_t name='race' ref-target='creature_raw'/>

        <compound name='pos' type-name='coord'/>
        <compound name='old_pos' type-name='coord'>
            <comment>
                E.g. for a dead miner, holds the place where he
                was likely hanging around when he got the command
                to mine in an aquifer.
            </comment>
        </compound>

        <compound name='unknown1'>
            <uint32_t name='unk_9c'/>
            <int16_t name='unk_a0'/>
            <padding size='2'/>
            <int16_t name='unk_a4a'/>
            <int16_t name='unk_a4b'/>
        </compound>

        <compound name='path'>
            <compound name='dest' type-name='coord'/>

            <int16_t name='unk_ae' comment='-1 unless dest valid'/>

            <compound name='path' type-name='coord_path'/>
        </compound>

        <compound name='flags1' type-name='unit_flags1'/>
        <compound name='flags2' type-name='unit_flags2'/>
        <compound name='flags3' type-name='unit_flags3'/>

        <compound name='unknown2'>
            -- defined for visiting diplomats
            <int8_t name='unk_ec'/>
            <int32_t name='unk_f0' ref-target='historical_entity'/>
            <int16_t name='unk_f4'/>
            <padding size='2'/>
        </compound>

        <int16_t name='caste' ref-target='caste_raw' aux-value='$$.race'/>
        <int8_t name='sex' comment='-1 n/a, 0 female, 1 male'/>

        <int32_t name='id'/>

        <int16_t name='unk_100'/>

        <enum name='training_level' base-type='int32_t'
              type-name='animal_training_level' init-value='WildUntamed'/>
        <int32_t name='unk_104'/>

        <int32_t name='civ_id' ref-target='historical_entity'/>
        <int32_t name='population_id' ref-target='entity_population'/>
        <int32_t comment='v0.34.01'/>
        <int32_t name='invasion_id' ref-target='invasion_info'/>

        <compound name='unknown3'>
            <compound name='unk_path' type-name='coord_path'/>

            <uint32_t name='unk_144'/>
        </compound>

        <stl-vector name='specific_refs'>
            <pointer type-name='specific_ref'/>
        </stl-vector>
        <stl-vector name='refs'>
            <pointer type-name='general_ref'/>
        </stl-vector>

        <compound name='military'>
            <int32_t name='squad_index' ref-target='squad'/>
            <int32_t name='squad_position'/>
            <int32_t name='unk_170'/>
            <int32_t name='draft_timer'/>

            <int16_t name='cur_uniform'/>

            <static-array name='uniforms' count='4'>
                <stl-vector>
                    <int32_t ref-target='item'/>
                </stl-vector>
            </static-array>

            <stl-vector comment='v0.34.06'/>

            <bitfield name='pickup_flags'>
                <flag-bit name='update'/>
            </bitfield>

            <stl-vector name='uniform_pickup'>
                <int32_t ref-target='item'/>
            </stl-vector>
            <stl-vector name='uniform_drop'>
                <int32_t ref-target='item'/>
            </stl-vector>

            <stl-vector name='individual_drills'>
                <int32_t ref-target='activity_entry'/>
            </stl-vector>
        </compound>

        <compound name='unknown4'>
            <compound name='population' type-name='world_population_ref'/>

            <uint32_t name='animal_leave_countdown'
                      comment='once 0, it heads for the edge and leaves'/>
            <uint32_t name='unk_20c'/>
        </compound>

        <enum base-type='int16_t' name='mood' type-name='mood_type'/>
        <int16_t name='unk_18e'/>

        <compound name='relations'>
            <uint32_t name='pregnancy_timer'/>
            <pointer name='pregnancy_ptr' type-name='unit_genes'/>
            <int16_t name='pregnancy_mystery' comment='-1 = crash, 1 = many cats'/>
            <int16_t name='unk_21c_b'/>
            <pointer name='ghost_info' type-name='unit_ghost_info'/>

            <int32_t comment='v0.34.01'/>

            <int32_t name='birth_year'/>
            <int32_t name='birth_time'/>
            <int32_t name='curse_year' comment='v0.34.01'/>
            <int32_t name='curse_time' comment='v0.34.01'/>

            <int32_t comment='v0.34.01'/>
            <int32_t comment='v0.34.01'/>

            <int32_t name='old_year' comment='could there be a death of old age time??'/>
            <int32_t name='old_time'/>

            <pointer type-name='unit' name='following'/>
            <uint16_t name='unk_238' comment='invalid unless following'/>

            <int32_t name='pet_owner_id' ref-target='unit'/>
            <int32_t name='spouse_id' ref-target='unit'
                     comment='not used in relationship screen..'/>
            <int32_t name='mother_id' ref-target='unit'/>
            <int32_t name='father_id' ref-target='unit'/>
            <int32_t name='last_attacker_id' ref-target='unit'/>
            <int32_t name='group_leader_id' ref-target='unit'
                     comment='used by goblins, adv mode companions etc'/>
            <int32_t name='draggee_id' ref-target='unit'
                     comment='unit being dragged by this one'/>
            <int32_t name='dragger_id' ref-target='unit'
                     comment='unit that drags this one'/>
            <int32_t name='rider_mount_id' ref-target='unit'/>
            <int32_t name='lover_id' ref-target='unit'/>
            <int16_t name='unk_264'/>
        </compound>

        <compound name='last_hit' type-name='history_hit_item'/>

        <int32_t name='riding_item_id' ref-target='item' comment='v0.34.08'/>

        <stl-vector name='inventory'>
            <pointer type-name='unit_inventory_item'/>
        </stl-vector>

        <stl-vector name='owned_items'>
            <int32_t ref-target='item'/>
        </stl-vector>
        <stl-vector name='traded_items' comment='items brought to trade depot'>
            <int32_t ref-target='item'/>
        </stl-vector>
        <stl-vector name='owned_buildings'>
            <pointer type-name='building'/>
        </stl-vector>
        <stl-vector name='corpse_parts' comment='entries remain even when items are destroyed'>
            <int32_t ref-target='item'/>
        </stl-vector>

        <compound name='job'>
            <uint32_t name='unk_2d8'/>
            <uint32_t name='unk_2dc'/>
            <pointer type-name='unit' name='hunt_target'/>
            <pointer type-name='building' name='destroy_target'/>
            <int16_t name='unk_2e8'/> // fight related
            <int16_t name='unk_2ea'/> // fight related
            <uint16_t name='unk_2ec'/>
            <uint16_t name='unk_2ee'/>
            <uint16_t name='unk_2f0_cntr'/> // increments every tick
            <pointer comment='df_job' name='current_job' type-name='job'/>
            <enum base-type='int16_t' type-name='job_skill' name='mood_skill'/>
            <uint32_t name='unk_2fc'/>
            <uint32_t name='unk_300'/>
            <uint32_t name='unk_304'/>
        </compound>

        <compound name='body'>
            <compound name='components' type-name='body_component_info'/>

            <stl-vector name='wounds' type-name='pointer'/>

            <uint32_t name='unk_398'/>

            <static-array name='unk_39c' type-name='int32_t' count='10'/>

            <pointer name='body_plan' type-name='caste_body_info'/>

            <uint16_t name='unk_3c8'/>

            <static-array type-name='unit_attribute' name='physical_attrs'
                          count='6' index-enum='physical_attribute_type'/>

            <static-array type-name='int32_t' name='physical_attr_unk3'
                          count='6' index-enum='physical_attribute_type'/>

            <uint32_t name='blood_max'/>
            <uint32_t name='blood_count'/> // 490
            <uint32_t name='unk_494'/>

            <stl-vector name='spatters'>
                <pointer type-name='unit_spatter'/>
            </stl-vector>

            <stl-vector name='body_app_modifiers' type-name='uint32_t'/>
            <stl-vector type-name='uint32_t' name='unk_4b8'/>
            <uint32_t name='unk_4c8'/>
        </compound>

        <compound name='appearance'>
            <stl-vector type-name='int16_t' name='unk_4cc'/>
            <stl-vector type-name='int32_t' name='unk_4dc'/>
            <stl-vector type-name='int32_t' name='unk_4ec'/>
            <stl-vector type-name='int32_t' name='unk_4fc'/>
            <stl-vector type-name='int32_t' name='unk_50c'/>

            <compound name='genes' type-name='unit_genes'/>

            <stl-vector name='colors' type-name='int32_t'/>
        </compound>

        <compound name='counters'>
            <int32_t name='think_counter'/> // 53c decrements every job_counter reroll, set when changing jobs
            <int32_t name='job_counter'/> // 540 current_job unit/walk done when reach -1, decremented every tick
            <int32_t name='unk_544'/> // if set, decrements every job_counter reroll
            <int16_t name='unk_548'/>

            <int32_t name='death_id' ref-target='death_info' comment='v0.34.01'/>

            <int16_t name='winded'/>
            <int16_t name='stunned'/> // 54c decrements every tick, unstun at 0
            <int16_t name='unconscious'/>
            <int16_t name='unk_550'/>
            <int16_t name='webbed'/>

            <compound name='unk_554' type-name='coord'/>
            <compound name='unk_55a' type-name='coord'/>

            <int16_t name='soldier_mood_countdown'/>
            <enum name='soldier_mood' base-type='int16_t'>
                <enum-item name='None' value='-1'/>
                <enum-item name='MartialTrance'/>
                <enum-item name='Enranged'/>
                <enum-item name='Tantrum'/>
            </enum>

            <uint32_t name='pain'/>
            <uint32_t name='nausea'/>
            <uint32_t name='dizziness'/>
        </compound>

        <compound name='curse'>
            <compound name='add_tags1' type-name='cie_add_tag_mask1'/>
            <compound name='rem_tags1' type-name='cie_add_tag_mask1'/>
            <compound name='add_tags2' type-name='cie_add_tag_mask2'/>
            <compound name='rem_tags2' type-name='cie_add_tag_mask2'/>

            <bool name='name_visible' comment='v0.34.01'/>
            <stl-string name='name' comment='v0.34.01'/>
            <stl-string name='name_plural' comment='v0.34.01'/>
            <stl-string name='name_adjective' comment='v0.34.01'/>

            <uint32_t name='sym_and_color1' comment='v0.34.01'/>
            <uint32_t name='sym_and_color2' comment='v0.34.01'/>
            <uint32_t name='flash_period' comment='v0.34.01'/>
            <uint32_t name='flash_time2' comment='v0.34.01'/>

            <stl-vector comment='v0.34.01'/>
            <stl-vector name='appearance_change' type-name='int32_t' comment='v0.34.01'/>
            <uint32_t comment='v0.34.01'/>
            <uint32_t comment='v0.34.01'/>

            <pointer name='attr_change' comment='v0.34.01'>
                <static-array name='phys_att_perc' type-name='int32_t'
                              count='6' index-enum='physical_attribute_type'/>
                <static-array name='phys_att_unk' type-name='int32_t'
                              count='6' index-enum='physical_attribute_type'/>
                <static-array name='ment_att_perc' type-name='int32_t'
                              count='13' index-enum='mental_attribute_type'/>
                <static-array name='ment_att_unk' type-name='int32_t'
                              count='13' index-enum='mental_attribute_type'/>
            </pointer>
            <uint32_t comment='v0.34.01'/>

            <stl-vector comment='v0.34.01'/>
            <stl-vector comment='v0.34.01'/>
            <stl-vector comment='v0.34.01'/>
            <int32_t name='time_on_site' comment='v0.34.01'/>
            <stl-vector type-name='int32_t' comment='v0.34.01'/>
            <stl-vector type-name='int32_t' comment='v0.34.01'/>
        </compound>

        <compound name='counters2'>
            <uint32_t name='paralysis'/>
            <uint32_t name='numbness'/>
            <uint32_t name='fever'/>
            <uint32_t name='exhaustion'/>

            <uint32_t name='hunger_timer'/>
            <uint32_t name='thirst_timer'/>
            <uint32_t name='sleepiness_timer'/>

            <uint32_t name='unk_58c'/> // counter, decrement to 0
            <uint32_t name='unk_590'/> // same as 58c
            <uint32_t name='unk_594'/>
            <uint32_t name='unk_cntdn_598'/> // fluctuate
            <uint32_t name='unk_59c'/>
        </compound>

        <compound name='status'>
            <stl-vector name='misc_traits'>
                <pointer type-name='unit_misc_trait'/>
            </stl-vector>

            <pointer name='eat_history'>
                <compound name='food'>
                    <stl-vector name='item_type'>
                        <enum base-type='int16_t' type-name='item_type'/>
                    </stl-vector>
                    <stl-vector name='item_subtype' type-name='int16_t'/>
                    <compound name='material' type-name='material_vec_ref'/>
                    <stl-vector name='year' type-name='int32_t'/>
                    <stl-vector name='year_time' type-name='int32_t'/>
                </compound>
                <compound name='drink'>
                    <stl-vector name='item_type'>
                        <enum base-type='int16_t' type-name='item_type'/>
                    </stl-vector>
                    <stl-vector name='item_subtype' type-name='int16_t'/>
                    <compound name='material' type-name='material_vec_ref'/>
                    <stl-vector name='year' type-name='int32_t'/>
                    <stl-vector name='year_time' type-name='int32_t'/>
                </compound>
            </pointer>

            <uint32_t name='unk_5b4'/> // 0x3e8 (1000)
            <uint32_t name='unk_5b8'/> // 0x3e8 (1000)

            <stl-vector name='attacker_ids'>
                <int32_t ref-target='unit'/>
            </stl-vector>
            <stl-vector name='attacker_unk' type-name='int16_t'/>

            <uint8_t name='unk_5dc'/>

            <compound type-name='language_name' name='artifact_name'/>
            <stl-vector name='souls'>
                <pointer type-name='unit_soul'/>
            </stl-vector>
            <pointer name='current_soul' type-name='unit_soul'/>

            <stl-vector name='demands'>
                <pointer type-name='unit_demand'/>
            </stl-vector>

            <static-array type-name='bool' name='labors' index-enum='unit_labor' count='94'/>

            <stl-vector name='unk_6d0'/>
            <stl-vector name='unk_6e0' type-name='int32_t'/> // item ids?

            <stl-vector name='recent_events'>
                <pointer type-name='unit_thought'/>
            </stl-vector>

            <stl-vector name='unk_700'/>

            <uint32_t name='happiness'/> // 710
            <uint16_t name='unk_714'/>

            <stl-vector name='unk_718'/>
            <stl-vector name='unk_728'/>

            <stl-vector name='acquintances'>
                <pointer>
                    <int32_t name='unit_id' ref-target='unit'/>
                    <int32_t name='acquintance_level' comment='>= 30 -> long-term'/>
                    <int32_t name='timer' comment='+1 per 10 frames; limit at 1 year'/>
                    <int32_t name='is_friend'/>
                </pointer>
            </stl-vector>

            <stl-vector name='unk_748'/>

            <uint16_t name='unk_758'/>

            -- coordinates, and a set of coordinate vectors
            <compound name='unk_75a' type-name='coord'/>
            <compound name='unk_760' type-name='coord_path'/>
        </compound>

        <int32_t name='hist_figure_id' ref-target='historical_figure'/>
        <int32_t name='hist_figure_id2' ref-target='historical_figure'/>

        <compound name='status2'>
            <uint16_t name='able_stand'/> // 794
            <uint16_t name='able_stand_impair'/> // 796
            <uint16_t name='able_grasp'/> // 798
            <uint16_t name='able_grasp_impair'/> // 79a
            <uint32_t name='unk_7a0'/>

            <stl-vector name='body_part_temperature'>
                <pointer>
                    <uint16_t name='whole'/>
                    <uint16_t name='fraction' comment='the unit is 1/temp_factor in body part'/>
                </pointer>
            </stl-vector>

            <uint32_t name='unk_7b4'/>
            <uint32_t name='unk_7b8'/>
            <uint8_t name='unk_7bc'/>

            <int32_t name='unk_7c0'/>
        </compound>

        <compound name='unknown7'>
            <stl-vector name='unk_7c4'/>
            <stl-vector comment='v0.34.01'/>
            <stl-vector type-name='pointer' comment='v0.34.01'/>
            <stl-vector name='unk_7d4' type-name='int32_t'/>
            <stl-vector name='unk_7e4' type-name='int16_t'/>
        </compound>

        <compound name='reports'>
            <stl-vector name='combat_log'>
                <int32_t ref-target='report'/>
            </stl-vector>
            <stl-vector name='sparring_log'>
                <int32_t ref-target='report'/>
            </stl-vector>
            <stl-vector name='unk_log'>
                <int32_t ref-target='report'/>
            </stl-vector>

            -- Garbage when the matching vector is empty:
            <uint32_t name='last_combat_year'/>
            <uint32_t name='last_sparring_year'/>
            <uint32_t name='last_unk_year'/>
            <uint32_t name='last_combat_time'/>
            <uint32_t name='last_sparring_time'/>
            <uint32_t name='last_unk_time'/>
        </compound>

        <pointer name='health' type-name='unit_health_info'/>

        <stl-vector name='used_items'>
            <comment>Contains worn clothes, armor, weapons, arrows fired by archers</comment>
            <pointer>
                <int32_t name="id" ref-target='item'/>
                <int32_t name="unk_4"/>
                <int32_t name="unk_8"/>
                <int32_t name="unk_c"/>
            </pointer>
        </stl-vector>

        <stl-vector name='adventurer_knows' comment='if not, no names'>
            <int32_t ref-target='unit'/>
        </stl-vector>

        <compound name='unknown8'>
            <stl-vector comment='v0.34.01'/>

            <pointer comment='v0.34.01'/>
            <int32_t name='were_race' ref-target='creature_raw'/>
            <int32_t name='were_caste' ref-target='caste_raw' aux-value='$$.were_race'/>
            <int32_t name='normal_race' ref-target='creature_raw'/>
            <int32_t name='normal_caste' ref-target='caste_raw' aux-value='$$.normal_race'/>
            <int32_t init-value='-1' comment='v0.34.01'/>

            <stl-vector name='unk_850'/>
            <stl-vector name='unk_860' type-name='int32_t'/>

            <int32_t name='unk_870'/>
            <int32_t name='unk_874_cntr'/> // age ? incremented every tick

            <stl-vector name='body_part_878' type-name='uint8_t'/>
            <stl-vector name='body_part_888' type-name='uint8_t'/>
            <stl-vector name='body_part_898' type-name='uint32_t'/>
            <stl-vector name='body_part_8a8' type-name='uint8_t'/>
            <stl-vector name='body_part_8b8' type-name='uint16_t'/>
            <stl-vector name='body_part_8c8' type-name='uint16_t'/>
            <stl-vector name='body_part_8d8' type-name='uint16_t'/>

            <stl-vector name='unk_8e8'/> // items ids?

            <stl-vector type-name='uint16_t' name='unk_8f8'/> // same size as 8e8, soldier related?

            <stl-vector name='body_layer_908' type-name='uint32_t'/>

            <int32_t name='unk_918'/>
            <int32_t name='unk_91c'/>
            <int32_t name='unk_920'/>

            <uint32_t name='unk_924'/>
            <uint32_t name='unk_928'/>
        </compound>

        <stl-vector name='burrows'>
            <int32_t ref-target='burrow'/>
        </stl-vector>

        <int32_t name='combat_side_id'/>
    </struct-type>

    <struct-type type-name='unit_ghost_info'>
        <enum base-type='int16_t' name='type' type-name='ghost_type'/>
        <int16_t name="unk_2"/>
        <int16_t name="unk_4"/>
        <int32_t name="unk_8"/>
        <compound name='unk_pos' type-name='coord'/>
        <int32_t name="unk_14"/>
        <int32_t name="unk_18"/>
        <int32_t name="unk_1c"/>
        <int32_t name="unk_20"/>
        <int32_t name="unk_24"/>
        <int32_t name="unk_28"/>
    </struct-type>

    <struct-type type-name='unit_genes'>
        <!-- length matches body_appearance_modifiers + tissue_appearance_modifiers -->
        <df-array name='appearance' type-name='uint8_t'/>
        <!-- two items per color modifier -->
        <df-array name="colors" type-name='int16_t'/>
    </struct-type>

    <struct-type type-name='unit_inventory_item'>
        <pointer name='item' type-name='item'/>

        <code-helper name='describe'>$.mode (describe-obj $.item)</code-helper>

        <enum base-type='int16_t' name='mode'>
            <enum-item name='Carried'/>
            <enum-item name='Weapon' comment='also shield, crutch'/>
            <enum-item name='Worn'/>
            <enum-item name='InBody'/>
            <enum-item name='Flask' comment='attached to clothing'/>
            <enum-item name='WrappedAround' comment='e.g. bandage'/>
            <enum-item name='StuckIn'/>
            <enum-item name='Unk7'/>
            <enum-item name='Shouldered'/>
            <enum-item name='SewnInto'/>
        </enum>

        <int16_t name='body_part_id'
                 refers-to='$$._global._parent._global.body.body_plan.body_parts[$]'/>

        <int32_t comment='always 0'/>
        <int32_t init-value='-1' comment='-1 unless suture'/>
    </struct-type>

    <struct-type type-name='unit_spatter'>
        <int16_t name="mat_type" ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name="mat_index" init-value='-1'/>

        <int16_t name="unk_8"/>
        <int16_t name="unk_a"/>
        <int16_t name="unk_c"/>

        <int32_t name="unk_10"/>
        <int16_t name='body_part_id'
                 refers-to='$$._global._parent._global.body.body_plan.body_parts[$]'/>
        <int16_t name="unk_16"/>
    </struct-type>

    <struct-type type-name='unit_attribute'>
        <int32_t name='unk1'/>
        <int32_t name='unk2'/>
        <int32_t name='unk3'/>
        <int32_t name='unk4'/>
        <int32_t name='unk5'/>
        <int32_t name='unk6'/>
        <int32_t name='unk7'/>
    </struct-type>

    <struct-type type-name='unit_misc_trait'>
        <enum base-type='int16_t' name='id'>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item name='Migrant'/>
            <enum-item name='RoomComplaint'/>
            <enum-item name='UnnamedResident' comment='upon reaching zero, resident creature gets named'/>
            <enum-item/>
            <enum-item name='ClaimTrinketCooldown'/>
            <enum-item name='ClaimClothingCooldown'/>
            <enum-item name='WantsDrink' comment='ALCOHOLIC'/>
            <enum-item name='LikesOutdoors' comment='MOUNTAIN'/>
            <enum-item name='Hardened' comment='COMBATHARDNESS'/>
            <enum-item name='TimeSinceBreak' comment='TIME_SINCE_BREAK'/>
            <enum-item name='OnBreak' comment='ON_BREAK'/>
            <enum-item/>
            <enum-item name='CaveAdapt' comment='CAVE_ADAPT'/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item name='PartiedOut' comment='PARTIED_OUT'/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item/>
            <enum-item name='MilkCounter' comment='MILK_COUNTER'/>
            <enum-item/>
            <enum-item/>
            <enum-item name='EggSpent' comment='EGG_SPENT'/>
            <enum-item name='GroundedAnimalAnger' comment='GROUNDED_ANIMAL_ANGER'/>
            <enum-item/>
            <enum-item name='TimeSinceSuckedBlood' comment='TIME_SINCE_SUCKED_BLOOD'/>
            <enum-item name='DrinkingBlood' comment='DRINKING_BLOOD'/>
        </enum>

        <code-helper name='describe'>(fmt "id=~A value=~A" $.id $.value)</code-helper>

        <int32_t name='value'/>
    </struct-type>

    <struct-type type-name='unit_thought'>
        <enum base-type='int16_t' name='type' type-name='unit_thought_type'/>
        <int32_t name="age" comment='+1 per frame'/>
        <int32_t name="subtype" init-value='-1'/>
        <int32_t name="severity"/>
    </struct-type>

    <struct-type type-name='unit_health_info'>
        <int32_t name="unit_id" ref-target='unit'/>

        <int32_t name="unk_4"/>
        <stl-vector name="body_part_8" type-name='int32_t'/>
        <int32_t name="unk_18"/>
        <int32_t name="unk_1c"/>
        <int16_t name="unk_20"/>

        <stl-vector name="op_history">
            <pointer>
                <enum base-type='int16_t' name="job_type" type-name='job_type'/>

                <compound name='info' is-union='true'>
                    <compound name='crutch'>
                        <int32_t name='item_type' refers-to='(enum-to-key $item_type $)'/>
                        <int32_t name='item_subtype' init-value='-1'/>
                        <int32_t name="mat_type" ref-target='material' aux-value='$$.mat_index'/>
                        <int32_t name="mat_index" init-value='-1'/>
                        <int32_t name="item_id" ref-target='item'/>
                    </compound>

                    <int32_t name='bed_id' ref-target='building'/>

                    <compound name='bandage'>
                        <int32_t name="mat_type" ref-target='material' aux-value='$$.mat_index'/>
                        <int32_t name="mat_index" init-value='-1'/>

                        <int32_t name="body_part_id" init-value='-1'/>
                        <int32_t name="item_id" ref-target='item'/>
                    </compound>
                </compound>

                <int32_t name="year"/>
                <int32_t name="year_time"/>

                <int32_t name="doctor_id" ref-target='unit'/>
            </pointer>
        </stl-vector>

        <stl-vector name="unk_34"/>
    </struct-type>

    <struct-type type-name='unit_soul'>
        <int32_t name='unit_id' ref-target='unit'/>

        <compound name='name' type-name='language_name'/>

        <uint32_t name='race' ref-target='creature_raw'/>
        <int8_t name='sex' comment='-1 n/a, 0 female, 1 male'/>
        <uint16_t name='caste' ref-target='caste_raw' aux-value='$$.race'/>

        <code-helper name='describe'>
            (describe-obj $.name)
            (awhen (find-creature $.race)
            (fmt "~:(~A ~A~)" $it.caste[$.caste].caste_id $it.creature_id))
        </code-helper>

        <int32_t name='unk1'/>
        <int32_t name='unk2'/>
        <int32_t name='unk3'/>
        <int32_t name='unk4'/>

        <int32_t comment='v0.34.01'/>
        <int32_t comment='v0.34.01'/>
        <int32_t comment='v0.34.01'/>
        <int32_t comment='v0.34.01'/>

        <static-array type-name='unit_attribute' name='mental_attrs' count='13' index-enum='mental_attribute_type'/>

        <stl-vector name='skills'>
            <pointer type-name='unit_skill'/>
        </stl-vector>
        <stl-vector name='preferences'>
            <pointer type-name='unit_preference'/>
        </stl-vector>

        <static-array type-name='uint16_t' name='traits' count='30' index-enum='personality_facet_type'/>

        <stl-vector name='unk5'>
            <pointer>
                <int16_t name='unk1'/>
                <int16_t name='unk2'/>
            </pointer>
        </stl-vector>

        <stl-vector name='unk6'/>
    </struct-type>

    <struct-type type-name='unit_skill'>
        <enum base-type='int16_t' name="id" type-name='job_skill'/>

        <code-helper name='describe'>$.id</code-helper>

        <int32_t name="rating"/>
        <uint32_t name="experience"/>
        <int32_t name="unk_c"/>
        <int32_t name="rusty"/>
        <int32_t name="unk_14"/>
        <int32_t name="unk_18"/>
        <int32_t name="unk_1c"/>
    </struct-type>

    <struct-type type-name='unit_preference'>
        <enum base-type='int16_t' name="type">
            <enum-item name='LikeMaterial'/>
            <enum-item name='LikeCreature'/>
            <enum-item name='LikeFood'/>
            <enum-item name='HateCreature'/>
            <enum-item name='LikeItem'/>
            <enum-item name='LikePlant'/>
            <enum-item name='LikeTree' comment='holdover from 40d and earlier'/>
            <enum-item name='LikeColor'/>
            <enum-item name='LikeShape'/>
        </enum>

        <code-helper name='describe'>$.type</code-helper>

        <compound is-union='true'>
            <enum base-type='int16_t' name="item_type" type-name='item_type'/>
            <int16_t name='creature_id' ref-target='creature_raw'/>
            <int16_t name='color_id' ref-target='descriptor_color'/>
            <int16_t name='shape_id' ref-target='descriptor_shape'/>
            <int16_t name='plant_id' ref-target='plant_raw'/>
        </compound>

        <int16_t name="item_subtype" refers-to='(item-subtype-target $$._parent.item_type $)'/>

        <int16_t name='mattype' ref-target='material' aux-value='$$.matindex'/>
        <int32_t name='matindex'/>

        <bool name='active'/>

        <uint32_t name='unk'/>
    </struct-type>

</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
