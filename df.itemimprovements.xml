<data-definition>
    <enum-type type-name='improvement_type'>
        <enum-item name="ART_IMAGE"/>
        <enum-item name="COVERED"/>
        <enum-item name="RINGS_HANGING"/>
        <enum-item name="BANDS"/>
        <enum-item name="SPIKES"/>
        <enum-item name="ITEMSPECIFIC"/>
        <enum-item name="THREAD"/>
        <enum-item name="CLOTH"/>
        <enum-item name="SEWN_IMAGE"/>
    </enum-type>

    <struct-type type-name='dye_info'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <int32_t name='unit_id' ref-target='unit'/>
        <int16_t name='quality'/>
        <int16_t/>
        <int32_t/>
    </struct-type>


    <class-type type-name='itemimprovement' original-name='itemimprovementst'>
        <int16_t name='mat_type' ref-target='material' aux-value='$$.mat_index'/>
        <int32_t name='mat_index'/>
        <int32_t name='unit' ref-target='unit'/>
        <int32_t/>
        <int16_t name='quality'/>
        <int32_t/>
        <int32_t/>
        <virtual-methods>
            <vmethod/>
            <vmethod/>
            <vmethod name='clone'>
                <ret-type><pointer type-name='itemimprovement'/></ret-type>
            </vmethod>
            <vmethod name='write_file'> <pointer comment='file_compressorst'/> </vmethod>
            <vmethod name='read_file'>
                <pointer comment='file_compressorst'/>
                <int32_t name='loadversion'/>
            </vmethod>
            <vmethod ret-type='improvement_type' name='getType'/>
            <vmethod/>
            <vmethod is-destructor='true'/>
            <vmethod ret-type='int32_t' name='getDyeValue'>
                <pointer/>
            </vmethod>
        </virtual-methods>
    </class-type>

    <class-type type-name='itemimprovement_art_imagest' inherits-from='itemimprovement'>
        <compound name='image'>
            <int32_t name='id'/>
            <int16_t name='subid'/>
        </compound>
    </class-type>

    <class-type type-name='itemimprovement_coveredst' inherits-from='itemimprovement'>
        <int32_t name='is_glazed'/>
    </class-type>

    <class-type type-name='itemimprovement_rings_hangingst' inherits-from='itemimprovement'/>
    <class-type type-name='itemimprovement_bandsst' inherits-from='itemimprovement'/>
    <class-type type-name='itemimprovement_spikesst' inherits-from='itemimprovement'/>

    <class-type type-name='itemimprovement_itemspecificst' inherits-from='itemimprovement'>
        <int32_t name='type'/>
    </class-type>

    <class-type type-name='itemimprovement_threadst' inherits-from='itemimprovement'>
        <compound name='dye' type-name='dye_info'/>
    </class-type>

    <class-type type-name='itemimprovement_clothst' inherits-from='itemimprovement'/>

    <class-type type-name='itemimprovement_sewn_imagest' inherits-from='itemimprovement'>
        <compound name='image'>
            <int32_t name='id'/>
            <int16_t name='subid'/>
        </compound>
        <compound name='cloth'>
            <int32_t name='unit_id' ref-target='unit'/>
            <int16_t name='quality'/>
            <int16_t/>
        </compound>
        <compound name='dye' type-name='dye_info'/>
    </class-type>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
